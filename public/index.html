<html>
<head>
  <title>InusiCongeb</title>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <meta charset="UTF-8">
  <script src="../mwc_bundle/mwc-material-bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="../scripts/genomaData.js"></script>
  <script src="../scripts/input.js"></script>
  
  <link rel="stylesheet" href="../stylesheets/mdc.css">
  <link rel="stylesheet" href="../stylesheets/input.css">
  <!-- Your application must load the Roboto and Material Icons fonts. -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" rel="stylesheet">
  <link rel="icon" href="/images/favicon.png">
</head>
<body>

  <div id = "Explicacion" class = "mdc-typography">
    ¡Bienvenido! Esta herramienta te permite generar gráficos de contexto genómico de alta calidad.
    A continuación debes elegir los <b>segmentos de genoma</b> que deseas graficar. Puedes especificarlos
    subiendo archivos de tu computador, con un identificador del <b>GenBank</b> o directamente escribiendo la secuencia fasta
    <br>
    En cualquier caso, puedes pedir más genomas parecidos con la opción de más abajo (en caso de que hayas ingresado una secuencia fasta, esto es obligatorio).
  </div>
  
  <mwc-tab-bar onclick = "changeTab(this.activeIndex)">
    <mwc-tab label = "Búsqueda de homólogos" onchange = "changeTab(this.activeIndex)"> </mwc-tab>
    <mwc-tab label = "Graficar mis contextos" onchange = "changeTab(this.activeIndex)"> </mwc-tab>
  </mwc-tab-bar>
  
  <form id = "tab1" action="fileUploadAndRender" method="post" enctype="multipart/form-data" class="tabContent container invisible">
    <div class = "main">
      <div class = "searchCustomization" id = "searchCustomization">
        <div class = "option-column">
          <div class = "search-option">
            Los
            <mwc-textfield
              outlined
              type = "number"
              min = "0"
              value = "10">
            </mwc-textfield>
            más parecidos
          </div>
          <div class = "search-option">
            <mwc-formfield label="Sólo uno de cada género">
              <mwc-checkbox></mwc-checkbox>
            </mwc-formfield>
          </div>
          <div class = "search-option">
            Covertura mínima:
            <mwc-textfield
              outlined
              iconTrailing = "%"
              label = "Covertura"
              type = "number"
              min = "0"
              max = "100"
              value = "70">
            </mwc-textfield>
          </div>
          <div class = "search-option">
            Identidad mínima:
            <mwc-textfield
              outlined
              iconTrailing = "%"
              label = "Identidad"
              type = "number"
              min = "0"
              max = "100"
              value = "30">
            </mwc-textfield>
          </div>
        </div>
        <div class = "option-column">
          <div class = "search-option" >
            <mwc-select outlined label="Base de datos" id = "genomaSourceType0" naturalMenuWidth="true">
              <mwc-list-item value="nr">Non-redundant protein sequences</mwc-list-item>
              <mwc-list-item value="refseq_select">RefSeq Select proteins</mwc-list-item>
              <mwc-list-item value="refseq_protein">Reference proteins</mwc-list-item>
              <mwc-list-item value="landmark">Model Organisms</mwc-list-item>
              <mwc-list-item value="swissprot">UniProtKB/Swiss-Prot</mwc-list-item>
              <mwc-list-item value="pataa">Patented protein sequences</mwc-list-item>
              <mwc-list-item value="pdb">Protein Data Bank proteins</mwc-list-item>
              <mwc-list-item value="env_nr">Metagenomic proteins</mwc-list-item>
              <mwc-list-item value="tsa_nr">Transcriptome Shotgun Assembly proteins</mwc-list-item>
            </mwc-select>
          </div>
          <div class = "search-option">
            <mwc-formfield label="Sólo del mismo reino (filo)">
              <mwc-checkbox></mwc-checkbox>
            </mwc-formfield>
          </div>
          <div class = "search-option">
            <mwc-formfield label="Sólo del mismo género">
              <mwc-checkbox></mwc-checkbox>
            </mwc-formfield>
          </div>
        </div>
      </div>
    </div>
    <input type="submit" class="btn btn-primary" style = "opacity: 0;" id = "submit">
  </form>
  <form id = "tab0" action="fileUploadAndRender" method="post" enctype="multipart/form-data" class="tabContent container">
    <div class="main">
      <div class = "main" id = "genomaList">
        <div class = "genomaData" id = "genomaData0">
          <div id = "genomaSource0">
            <mwc-select outlined label="Genoma 1"id = "genomaSourceType0" onchange = "changeGenomaSource(this.value, 0);">
              <mwc-list-item value="file">Desde archivo</mwc-list-item>
              <mwc-list-item value="gi">gi</mwc-list-item>
              <mwc-list-item value="accesion">Número de acceso</mwc-list-item>
              <mwc-list-item value="fasta">secuencia fasta</mwc-list-item>
            </mwc-select>
            <br>
            <span
              id = "file0"
              class = "genomaSpec file invisible">
              <input type="file" class="form-control-file" name="file0">
            </span>
            <mwc-textfield
              outlined
              id = "gi0"
              label="gi"
              class = "genomaSpec gi invisible">
            </mwc-textfield>
            <mwc-textfield
              outlined
              id = "accesion0"
              label="número de acceso"
              class = "genomaSpec accesion invisible">
            </mwc-textfield>
            <mwc-textarea
              outlined
              id = "fasta0"
              label="secuencia fasta"
              class = "genomaSpec fasta invisible">
            </mwc-textarea>
          </div>

          <div class = "extraInput">
            <div class = "genomaBoundaries invisible" id = "genomaBoundaries0">
              <mwc-textfield
                outlined
                label = "Desde"
                type = "number">
              </mwc-textfield>
              <mwc-textfield
                outlined
                label = "Hasta"
                type = "number">
              </mwc-textfield>
            </div>

            <div class = "genomaContext invisible" id = "genomaContext0">
              <div class = "row mwc-typography">
                Incluir
                <mwc-textfield
                  outlined
                  label="genes"
                  value = "0"
                  >
                </mwc-textfield>
                antes
              </div>
              <div class = "row">
                y
                <mwc-textfield
                  outlined
                  label="genes"
                  type = "number"
                  min = "0">
                </mwc-textfield>
                después
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <mwc-button onClick = "addGenoma()" id = "addGenomaButton" label = "Añadir genoma" icon = "add" outlined></mwc-button>
      </div>
    </div>
  </form>
  <mwc-button id="myButton" label="Draw it!" raised onclick = "document.getElementById('submit').click();"></mwc-button>
</body>
</html>